# 語音轉文字程式 - 時間戳功能說明

## 新增功能：逐字時間戳

本次更新為語音轉文字程式新增了時間戳功能，讓您可以知道每句話在音檔中的確切時間位置。

### 功能特色

#### 1. 時間戳顯示格式
- 短時間：`[MM:SS]` (例如：[03:25])
- 長時間：`[HH:MM:SS]` (例如：[1:03:25])

#### 2. 多檔案時間累加
- 當處理多個音檔時，時間會從第一個檔案開始計算
- 後續檔案的時間戳會自動累加前面檔案的總時長
- 每個檔案會顯示起始時間

#### 3. 兩種時間戳精度

**Whisper引擎（推薦）：**
- 使用AI模型分析音檔，提供精確的句子級時間戳
- 每個句子的時間戳都是實際檢測到的語音片段開始時間
- 準確度較高，適合需要精確時間定位的場景

**Google引擎 + 估算：**
- 基於文字長度和語速估算時間戳
- 適合快速處理和網路環境較好的情況
- 時間戳為估算值，僅供參考

### 使用方法

1. **啟用時間戳功能**
   - 在「進階選項」區域勾選「啟用逐字時間戳」
   - 選擇適合的識別引擎（建議使用Whisper獲得更精確的時間戳）

2. **單一檔案轉換**
   - 錄音或上傳單一音檔
   - 轉換結果會顯示每句話的時間戳
   - 時間從 [00:00] 開始計算

3. **多檔案批次轉換**
   - 新增多個音檔到列表
   - 調整檔案順序
   - 執行批次轉換
   - 每個檔案會有獨立的標題和起始時間
   - 時間會自動累加

### 輸出範例

#### 單一檔案
```
[00:05] 大家好，歡迎收聽今天的節目
[00:12] 今天我們要討論的主題是人工智慧
[00:28] 首先讓我們來了解一下背景
```

#### 多檔案
```
==================================================
檔案 1: intro.mp3 (起始時間: [00:00])
==================================================
[00:05] 大家好，歡迎收聽今天的節目
[00:12] 今天我們要討論的主題是人工智慧

==================================================
檔案 2: chapter1.mp3 (起始時間: [02:30])
==================================================
[02:35] 首先讓我們來了解一下背景
[02:48] 人工智慧的發展歷史可以追溯到...
```

### 技術細節

#### 時間計算方式
- **Whisper引擎**：使用word_timestamps參數取得AI分析的精確時間
- **估算方式**：中文約每分鐘200字，英文約每分鐘150詞

#### 檔案格式支援
- 支援所有常見音檔格式：WAV, MP3, MP4, M4A, FLAC, AAC, OGG
- 自動轉換格式以確保相容性

#### 效能考量
- Whisper模式會增加處理時間，但提供更精確的結果
- 大檔案建議分段處理以獲得更好的效能

### 注意事項

1. **時間戳精度**
   - Whisper引擎的時間戳較為精確
   - Google引擎的時間戳為估算值
   - 實際精度可能因音檔品質而異

2. **檔案處理順序**
   - 確保檔案按正確順序排列
   - 可使用上移/下移按鈕調整順序

3. **大檔案處理**
   - 超大檔案可能影響處理速度
   - 建議將長音檔分段處理

### 常見問題

**Q: 時間戳不準確怎麼辦？**
A: 嘗試使用Whisper引擎，或檢查音檔品質。背景噪音可能影響準確度。

**Q: 多檔案時間為什麼會累加？**
A: 這是設計功能，讓您可以知道每個片段在整個系列中的實際時間位置。

**Q: 可以關閉時間戳嗎？**
A: 可以，只需取消勾選「啟用逐字時間戳」選項即可。

### 更新日誌

- 新增逐字時間戳功能
- 支援多檔案時間累加
- 整合Whisper引擎的精確時間戳
- 優化UI介面和使用者體驗
